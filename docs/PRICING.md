# Ценообразование бота Sora-2

## Система токенов
- **1 токен = 1₸** (тенге)
- Токены списываются за каждую сгенерированную секунду видео
- При ошибке генерации токены автоматически возвращаются

## Стоимость видео

### Sora-2 (720p)
Разрешения: 720×1280 (вертикальное), 1280×720 (горизонтальное), 1024×1024 (квадратное)

| Длительность | Стоимость |
|--------------|-----------|
| 4 сек        | 445₸      |
| 6 сек        | 594₸      |
| 8 сек        | 742₸      |
| 10 сек       | 890₸      |
| 12 сек       | 1,039₸    |

### Sora-2-Pro (720p)
Разрешения: 720×1280 (вертикальное), 1280×720 (горизонтальное), 1024×1024 (квадратное)

| Длительность | Стоимость |
|--------------|-----------|
| 4 сек        | 1,039₸    |
| 6 сек        | 1,484₸    |
| 8 сек        | 1,928₸    |
| 10 сек       | 2,373₸    |
| 12 сек       | 2,818₸    |

### Sora-2-Pro (1080p)
Разрешения: 1024×1792 (вертикальное), 1792×1024 (горизонтальное)

| Длительность | Стоимость |
|--------------|-----------|
| 4 сек        | 1,632₸    |
| 6 сек        | 2,373₸    |
| 8 сек        | 3,115₸    |
| 10 сек       | 3,856₸    |
| 12 сек       | 4,598₸    |

## Пакеты токенов

| Пакет | Токенов | Цена | Количество видео* | Скидка |
|-------|---------|------|-------------------|--------|
| Минимальный | 742 | 742₸ | 1 видео | 0% |
| Стандартный | 1,484 | 1,336₸ | 2 видео | 10% |
| Расширенный | 3,710 | 3,154₸ | 5 видео | 15% |
| Премиум | 7,420 | 5,936₸ | 10 видео | 20% |

*Количество видео рассчитано для стандартного видео: 8 секунд, Sora-2, 720p (742₸)

## Расчет цен

Формула ценообразования:
```
Цена = (Затраты_API_USD × 480 × 1.5 + Комиссия_Stripe) / (1 - 0.029)
```

Где:
- **Затраты API** (из официального прайса Sora):
  - Sora-2 (720p): $0.10/сек
  - Sora-2-Pro (720p): $0.30/сек
  - Sora-2-Pro (1080p): $0.50/сек
- **Курс обмена**: 1 USD = 480 KZT
- **Наценка**: 50% (фактор 1.5)
- **Комиссия Stripe**: 2.9% + $0.30 за транзакцию

## Примеры

**Пример 1**: Пользователь купил пакет "Стандартный" за 1,336₸
- Получил: 1,484 токена
- Может создать: 2 видео по 8 сек (Sora-2, 720p)
- Экономия: 148₸ (10% скидка)

**Пример 2**: Пользователь хочет создать премиум видео 12 сек, 1080p
- Стоимость: 4,598₸
- Нужен пакет: Премиум (7,420 токенов за 5,936₸)
- После создания останется: 2,822 токена

## Возврат токенов

Токены автоматически возвращаются в случаях:
- ❌ Ошибка модерации контента (moderation_blocked)
- ❌ Технические ошибки API после всех попыток
- ❌ Невалидный промпт

Токены НЕ возвращаются:
- ✅ Видео успешно сгенерировано
- ⏳ Видео в процессе генерации
